name: ayodele-demo
# description:
# credentials:
# globals:
workflows:
  OpenMRS-Demo:
    name: OpenMRS Demo
    jobs:
      New-job:
        name: New job
        adaptor: '@openfn/language-openmrs@latest'
        # credential:
        # globals:
        body: |
          // Get started by adding operations from the API reference
          
      Chat-with-Aisha:
        name: Chat with Aisha
        adaptor: '@openfn/language-common@latest'
        # credential:
        # globals:
        body: |
          // Get started by adding operations from the API reference
          
    triggers:
      webhook:
        type: webhook
        enabled: true
    edges:
      webhook->New-job:
        source_trigger: webhook
        target_job: New-job
        condition_type: always
        enabled: true
      New-job->Chat-with-Aisha:
        source_job: New-job
        target_job: Chat-with-Aisha
        condition_type: on_job_success
        enabled: true
  Testing:
    name: Testing
    jobs:
      Boboyi:
        name: Boboyi
        adaptor: '@openfn/language-common@latest'
        # credential:
        # globals:
        body: |
          // Get started by adding operations from the API reference
          fn(state => {
            return state
          })
      DHIS2-Test:
        name: DHIS2 Test
        adaptor: '@openfn/language-dhis2@latest'
        # credential:
        # globals:
        body: |
          // Get started by adding operations from the API reference
          
    triggers:
      webhook:
        type: webhook
        enabled: true
    edges:
      webhook->Boboyi:
        source_trigger: webhook
        target_job: Boboyi
        condition_type: always
        enabled: true
      Boboyi->DHIS2-Test:
        source_job: Boboyi
        target_job: DHIS2-Test
        condition_type: on_job_success
        enabled: true
  Workflow-1:
    name: Workflow 1
    jobs:
      Get-data-from-DHIS2:
        name: Get data from DHIS2
        adaptor: '@openfn/language-dhis2@latest'
        # credential:
        # globals:
        body: |
          // Get started by adding operations from the API reference
          fn(state => {
           return {state}
          })
      testing123:
        name: testing123
        adaptor: '@openfn/language-common@latest'
        # credential:
        # globals:
        body: |
          // Get started by adding operations from the API reference
          fn(state => {
            return state
          })
      Aggregate-data-based-on-gender:
        name: Aggregate data based on gender
        adaptor: '@openfn/language-common@latest'
        # credential:
        # globals:
        body: |
          // Get started by adding operations from the API reference
          
      make-a-comment-on-Asana:
        name: make a comment on Asana
        adaptor: '@openfn/language-asana@latest'
        # credential:
        # globals:
        body: |
          // Get started by adding operations from the API reference
          
    triggers:
      webhook:
        type: webhook
        enabled: true
    edges:
      webhook->Get-data-from-DHIS2:
        source_trigger: webhook
        target_job: Get-data-from-DHIS2
        condition_type: always
        enabled: true
      Get-data-from-DHIS2->testing123:
        source_job: Get-data-from-DHIS2
        target_job: testing123
        condition_type: on_job_success
        enabled: true
      testing123->Aggregate-data-based-on-gender:
        source_job: testing123
        target_job: Aggregate-data-based-on-gender
        condition_type: on_job_success
        enabled: true
      Aggregate-data-based-on-gender->make-a-comment-on-Asana:
        source_job: Aggregate-data-based-on-gender
        target_job: make-a-comment-on-Asana
        condition_type: on_job_success
        enabled: true
  workfflow-2:
    name: workfflow 2
    jobs:
      Fetch-submissions-from-KoboCollect:
        name: Fetch submissions from KoboCollect
        adaptor: '@openfn/language-kobotoolbox@latest'
        # credential:
        # globals:
        body: |
          // Get started by adding operations from the API reference
          fn(state =>{
            return state
          })
      testing123_:
        name: testing123_
        adaptor: '@openfn/language-postgresql@latest'
        # credential:
        # globals:
        body: |
          // Get started by adding operations from the API reference
          
      Send-a-text-message-to-admin:
        name: Send a text message to admin
        adaptor: '@openfn/language-twilio@0.3.4'
        # credential:
        # globals:
        body: |
          // Get started by adding operations from the API reference
          
    triggers:
      webhook:
        type: webhook
        enabled: true
    edges:
      webhook->Fetch-submissions-from-KoboCollect:
        source_trigger: webhook
        target_job: Fetch-submissions-from-KoboCollect
        condition_type: always
        enabled: true
      Fetch-submissions-from-KoboCollect->testing123_:
        source_job: Fetch-submissions-from-KoboCollect
        target_job: testing123_
        condition_type: on_job_success
        enabled: true
      testing123_->Send-a-text-message-to-admin:
        source_job: testing123_
        target_job: Send-a-text-message-to-admin
        condition_type: on_job_success
        enabled: true